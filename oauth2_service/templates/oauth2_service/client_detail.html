
{% extends 'oauth2_service/base.html' %}
{% block content %}
<div class="row justify-content-center mt-4">
    <div class="col-lg-8">
        <div class="card shadow-lg border-0 animate__animated animate__fadeIn">
            <div class="card-body p-5">
                <h2 class="text-gradient fw-bold mb-4 text-center">
                    <i class="bi bi-key-fill"></i> Chi tiết Client
                </h2>
                <dl class="row mb-0">
                    <dt class="col-sm-4">Tên ứng dụng</dt>
                    <dd class="col-sm-8 fw-bold text-dark">{{ client.name }}</dd>
                    <dt class="col-sm-4">Client ID</dt>
                    <dd class="col-sm-8">
                        <span class="badge bg-info text-dark fs-6">{{ client.client_id }}</span>
                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="copyText('{{ client.client_id }}', 'Client ID')">
                            <i class="bi bi-clipboard"></i> Copy
                        </button>
                    </dd>
                    <dt class="col-sm-4">Client Secret</dt>
                    <dd class="col-sm-8">
                        <span class="badge bg-warning text-dark fs-6">{{ client.client_secret }}</span>
                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="copyText('{{ client.client_secret }}', 'Client Secret')">
                            <i class="bi bi-clipboard"></i> Copy
                        </button>
                    </dd>
                    <dt class="col-sm-4">Redirect URIs</dt>
                    <dd class="col-sm-8"><pre class="bg-light p-2 rounded">{{ client.redirect_uris }}</pre></dd>
                    <dt class="col-sm-4">Scopes</dt>
                    <dd class="col-sm-8">
                        <span class="badge bg-secondary">{{ client.scopes }}</span>
                    </dd>
                    <dt class="col-sm-4">Trạng thái</dt>
                    <dd class="col-sm-8">
                        {% if client.is_active %}
                            <span class="badge bg-success px-3 py-2"><i class="bi bi-check-circle-fill"></i> Hoạt động</span>
                        {% else %}
                            <span class="badge bg-danger px-3 py-2"><i class="bi bi-x-circle-fill"></i> Vô hiệu</span>
                        {% endif %}
                    </dd>
                    <dt class="col-sm-4">Ngày tạo</dt>
                    <dd class="col-sm-8 text-secondary">{{ client.created_at|date:"d/m/Y H:i" }}</dd>
                </dl>
                <hr>
                <div class="alert alert-info d-flex align-items-center mb-4" role="alert">
                    <i class="bi bi-info-circle fs-4 me-2"></i>
                    <div>
                        <strong>Hướng dẫn cấu hình OAuth2 Client:</strong><br>
                        <ul class="mb-0 ps-3">
                            <li><strong>Client ID</strong> và <strong>Client Secret</strong> dùng để cấu hình ứng dụng OAuth2.</li>
                            <li><strong>Redirect URIs</strong> phải khớp với URI ứng dụng khi thực hiện xác thực.</li>
                            <li><strong>Scopes</strong> là các quyền truy cập mà client yêu cầu.</li>
                        </ul>
                    </div>
                </div>
                <div class="d-flex flex-wrap gap-2 justify-content-center mt-3">
                    <a href="{% url 'client_update' client.pk %}" class="btn btn-warning px-4">
                        <i class="bi bi-pencil-square"></i> Sửa thông tin
                    </a>
                    <a href="{% url 'client_delete' client.pk %}" class="btn btn-danger px-4">
                        <i class="bi bi-trash3"></i> Xóa client
                    </a>
                    <a href="{% url 'client_list' %}" class="btn btn-outline-secondary px-4">
                        <i class="bi bi-list-ul"></i> Về danh sách client
                    </a>
                    <a href="{% url 'home' %}" class="btn btn-outline-secondary px-4">
                        <i class="bi bi-house-door"></i> Về trang chủ
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .text-gradient {
        background: linear-gradient(90deg, #0d6efd 40%, #6610f2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
</style>
<!-- Bootstrap Icons & Animate.css -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<script>
function copyText(text, label) {
    navigator.clipboard.writeText(text);
    let toast = document.createElement('div');
    toast.className = 'toast align-items-center text-bg-primary border-0 show position-fixed top-0 end-0 m-4';
    toast.style.zIndex = 9999;
    toast.innerHTML = `<div class='d-flex'><div class='toast-body'>Đã copy ${label}!</div><button type='button' class='btn-close btn-close-white me-2 m-auto' data-bs-dismiss='toast'></button></div>`;
    document.body.appendChild(toast);
    setTimeout(() => { toast.remove(); }, 2000);
}
</script>
{% endblock %}
